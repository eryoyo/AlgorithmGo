//å¦‚æœä¸€ä¸ªæ•°åˆ— è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´  ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥æ•°åˆ—ä¸ºç­‰å·®æ•°åˆ—ã€‚ 
//
// 
// ä¾‹å¦‚ï¼Œ[1,3,5,7,9]ã€[7,7,7,7] å’Œ [3,-1,-5,-9] éƒ½æ˜¯ç­‰å·®æ•°åˆ—ã€‚ 
// 
//
// 
// 
// ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¿”å›æ•°ç»„ nums ä¸­æ‰€æœ‰ä¸ºç­‰å·®æ•°ç»„çš„ å­æ•°ç»„ ä¸ªæ•°ã€‚ 
//
// å­æ•°ç»„ æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­åºåˆ—ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1,2,3,4]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šnums ä¸­æœ‰ä¸‰ä¸ªå­ç­‰å·®æ•°ç»„ï¼š[1, 2, 3]ã€[2, 3, 4] å’Œ [1,2,3,4] è‡ªèº«ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1]
//è¾“å‡ºï¼š0
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= nums.length <= 5000 
// -1000 <= nums[i] <= 1000 
// 
// 
// 
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ 
// ğŸ‘ 262 ğŸ‘ 0

/*
 * é¢˜è§£
è¿™é“é¢˜ç•¥å¾®ç‰¹æ®Šï¼Œå› ä¸ºè¦æ±‚æ˜¯ç­‰å·®æ•°åˆ—ï¼Œå¯ä»¥å¾ˆè‡ªç„¶çš„æƒ³åˆ°å­æ•°ç»„å¿…å®šæ»¡è¶³ num[i] - num[i-1]
= num[i-1] - num[i-2]ã€‚ç„¶è€Œç”±äºæˆ‘ä»¬å¯¹äº dp æ•°ç»„çš„å®šä¹‰é€šå¸¸ä¸ºä»¥ i ç»“å°¾çš„ï¼Œæ»¡è¶³æŸäº›æ¡ä»¶çš„å­æ•°
ç»„æ•°é‡ï¼Œè€Œç­‰å·®å­æ•°ç»„å¯ä»¥åœ¨ä»»æ„ä¸€ä¸ªä½ç½®ç»ˆç»“ï¼Œå› æ­¤æ­¤é¢˜åœ¨æœ€åéœ€è¦å¯¹ dp æ•°ç»„æ±‚å’Œã€‚
 */

#include<vector>
#include <numeric>

using namespace std;

//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
public:
    int numberOfArithmeticSlices(vector<int>& nums) {
        int n = nums.size();
        if(n < 3){
            return 0;
        }
        vector<int> dp(n, 0);
        for(int i = 2; i < n; ++i){
            if(nums[i] - nums[i - 1] == nums[i - 1] - nums[i - 2]){
                dp[i] = dp[i - 1] + 1;
            }
        }
        return accumulate(dp.begin(), dp.end(), 0);
    }
};
//leetcode submit region end(Prohibit modification and deletion)
