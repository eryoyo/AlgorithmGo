//åœ¨ä¸€ä¸ªç”± '0' å’Œ '1' ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« '1' çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šmatrix = [["1","0","1","0","0"],["1","0","1","1","1"],["1","1","1","1","1"]
//,["1","0","0","1","0"]]
//è¾“å‡ºï¼š4
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šmatrix = [["0","1"],["1","0"]]
//è¾“å‡ºï¼š1
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šmatrix = [["0"]]
//è¾“å‡ºï¼š0
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// m == matrix.length 
// n == matrix[i].length 
// 1 <= m, n <= 300 
// matrix[i][j] ä¸º '0' æˆ– '1' 
// 
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ çŸ©é˜µ 
// ğŸ‘ 827 ğŸ‘ 0

/*
 * é¢˜è§£
å¯¹äºåœ¨çŸ©é˜µå†…æœç´¢æ­£æ–¹å½¢æˆ–é•¿æ–¹å½¢çš„é¢˜å‹ï¼Œä¸€ç§å¸¸è§çš„åšæ³•æ˜¯å®šä¹‰ä¸€ä¸ªäºŒç»´ dp æ•°ç»„ï¼Œå…¶ä¸­
dp[i][j] è¡¨ç¤ºæ»¡è¶³é¢˜ç›®æ¡ä»¶çš„ã€ä»¥ (i, j) ä¸ºå³ä¸‹è§’çš„æ­£æ–¹å½¢æˆ–è€…é•¿æ–¹å½¢çš„å±æ€§ã€‚å¯¹äºæœ¬é¢˜ï¼Œåˆ™è¡¨ç¤º
ä»¥ (i, j) ä¸ºå³ä¸‹è§’çš„å…¨ç”± 1 æ„æˆçš„æœ€å¤§æ­£æ–¹å½¢é¢ç§¯ã€‚å¦‚æœå½“å‰ä½ç½®æ˜¯ 0ï¼Œé‚£ä¹ˆ dp[i][j] å³ä¸º 0ï¼›å¦‚æœ
å½“å‰ä½ç½®æ˜¯ 1ï¼Œæˆ‘ä»¬å‡è®¾ dp[i][j] = k2ï¼Œå…¶å……åˆ†æ¡ä»¶ä¸º dp[i-1][j-1]ã€dp[i][j-1] å’Œ dp[i-1][j] çš„å€¼å¿…é¡»
éƒ½ä¸å°äº (k âˆ’ 1)2ï¼Œå¦åˆ™ (i, j) ä½ç½®ä¸å¯ä»¥æ„æˆä¸€ä¸ªè¾¹é•¿ä¸º k çš„æ­£æ–¹å½¢ã€‚åŒç†ï¼Œå¦‚æœè¿™ä¸‰ä¸ªå€¼ä¸­çš„
çš„æœ€å°å€¼ä¸º k âˆ’ 1ï¼Œåˆ™ (i, j) ä½ç½®ä¸€å®šä¸”æœ€å¤§å¯ä»¥æ„æˆä¸€ä¸ªè¾¹é•¿ä¸º k çš„æ­£æ–¹å½¢ã€‚
 */

#include <vector>

using namespace std;

//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
public:
    int maximalSquare(vector<vector<char>>& matrix) {
        if(matrix.empty() || matrix[0].empty()){
            return 0;
        }
        int m = matrix.size();
        int n = matrix[0].size();
        int max_side = 0;
        vector<vector<int>> dp(m + 1, vector<int>(n + 1, 0));
        for(int i = 1; i <= m; ++i){
            for(int j = 1; j <= n; ++j){
                if(matrix[i - 1][j - 1] == '1'){
                    dp[i][j] = min(dp[i - 1][j - 1], min(dp[i][j - 1], dp[i - 1][j])) + 1;
                }
                max_side = max(max_side, dp[i][j]);
            }
        }
        return max_side * max_side;
    }
};
//leetcode submit region end(Prohibit modification and deletion)
